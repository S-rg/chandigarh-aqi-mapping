<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chart Builder</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='plot.css') }}" rel="stylesheet">
</head>
<body>
    <div class="chart-builder-header">
        <div class="container-fluid">
            <div class="header-nav">
                <button class="back-button" onclick="history.back()">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 12H5m7-7l-7 7 7 7" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </button>
                <div class="header-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 3v18h18V3H3zm16 16H5V5h14v14z" fill="currentColor"/>
                        <path d="M9 17l3-9 3 9" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M8 13h8" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </div>
                <div class="header-text">
                    <h1 class="page-title">Chart Builder</h1>
                    <p class="page-subtitle">Visualize sensor data over time</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="chart-builder-content">
            <div class="selection-card">
                <div class="card-header">
                    <h2 class="card-title">Select Data Source</h2>
                    <p class="card-subtitle">Choose a table and sensor type to visualize</p>
                </div>
                
                <div class="selection-sections">
                    <!-- Table Selection -->
                    <div class="selection-section">
                        <h3 class="section-title">Choose Table</h3>
                        <div class="table-options">
                            <label class="table-option">
                                <input type="radio" name="table" value="winsen1" checked>
                                <div class="option-content">
                                    <span class="option-text">Winsen1</span>
                                </div>
            </label>
                            <label class="table-option">
                                <input type="radio" name="table" value="winsen2">
                                <div class="option-content">
                                    <span class="option-text">Winsen2</span>
                                </div>
            </label>
                        </div>
                    </div>

                    <!-- Sensor Selection -->
                    <div class="selection-section">
                        <h3 class="section-title">Choose Sensor</h3>
                        <div class="sensor-grid">
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="pm1">
                                <div class="sensor-option">
                                    <div class="sensor-icon pm1-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="3" fill="#4A90E2"/>
                                            <circle cx="12" cy="12" r="6" fill="#4A90E2" fill-opacity="0.3"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">PM1</span>
                                    <span class="sensor-unit">µg/m³</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="pm25" checked>
                                <div class="sensor-option">
                                    <div class="sensor-icon pm25-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="3" fill="#17A2B8"/>
                                            <circle cx="12" cy="12" r="6" fill="#17A2B8" fill-opacity="0.3"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">PM2.5</span>
                                    <span class="sensor-unit">µg/m³</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="pm10">
                                <div class="sensor-option">
                                    <div class="sensor-icon pm10-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="3" fill="#28A745"/>
                                            <circle cx="12" cy="12" r="6" fill="#28A745" fill-opacity="0.3"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">PM10</span>
                                    <span class="sensor-unit">µg/m³</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="co2">
                                <div class="sensor-option">
                                    <div class="sensor-icon co2-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="8" fill="#28A745"/>
                                            <circle cx="12" cy="12" r="4" fill="#FFFFFF"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">CO2</span>
                                    <span class="sensor-unit">ppm</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="voc">
                                <div class="sensor-option">
                                    <div class="sensor-icon voc-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M12 2L2 7l10 5 10-5-10-5z" fill="#FFC107"/>
                                            <path d="M2 17l10 5 10-5M2 12l10 5 10-5" stroke="#FFC107" stroke-width="2" fill="none"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">VOC</span>
                                    <span class="sensor-unit">ppm</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="temp">
                                <div class="sensor-option">
                                    <div class="sensor-icon temp-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z" fill="#FD7E14"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">Temperature</span>
                                    <span class="sensor-unit">°C</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="humidity">
                                <div class="sensor-option">
                                    <div class="sensor-icon humidity-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z" fill="#17A2B8"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">Humidity</span>
                                    <span class="sensor-unit">%</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="ch2o">
                                <div class="sensor-option">
                                    <div class="sensor-icon ch2o-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9 11H7a2 2 0 0 0-2 2v7h2v-5h2v5h2v-7a2 2 0 0 0-2-2h-2z" fill="#6F42C1"/>
                                            <path d="M9 7h2V5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2h2z" fill="#6F42C1"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">CH2O</span>
                                    <span class="sensor-unit">µg/m³</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="co">
                                    <div class="sensor-option">
                                        <div class="sensor-icon co-icon">
                                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z" fill="#DC3545"/>
                                                <path d="M12 6v6l4 2" stroke="#DC3545" stroke-width="2" fill="none"/>
                                            </svg>
                                        </div>
                                        <span class="sensor-name">CO</span>
                                        <span class="sensor-unit">ppm</span>
                                    </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="o3">
                                <div class="sensor-option">
                                    <div class="sensor-icon o3-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="8" fill="#20C997"/>
                                            <path d="M12 4v8l6 3" stroke="#20C997" stroke-width="2" fill="none"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">O3</span>
                                    <span class="sensor-unit">ppb</span>
                                </div>
                            </label>
                            
                            <label class="sensor-card">
                                <input type="radio" name="sensor" value="no2">
                                <div class="sensor-option">
                                    <div class="sensor-icon no2-icon">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9 12l2 2 4-4" stroke="#E83E8C" stroke-width="2" fill="none"/>
                                            <circle cx="12" cy="12" r="9" stroke="#E83E8C" stroke-width="2" fill="none"/>
                                        </svg>
                                    </div>
                                    <span class="sensor-name">NO2</span>
                                    <span class="sensor-unit">ppb</span>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
    <div id="chart" style="width:100%;height:600px;"></div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='winsen_plot.js') }}"></script>
</body>
</html>